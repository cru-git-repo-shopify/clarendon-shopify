<div id="{{ section.settings.id }}" class="stack {{ section.settings.class }}">
    {% for block in section.blocks %}
    <div class="block-{{ block.type }} {{ block.settings.class }}" id="{{ block.settings.id }}">
        {% case block.type %}
        {% when 'text' %}
            <p >{{ block.settings.text }}</p>
        {% when 'textarea' %}
            <p >{{ block.settings.textarea }}</p>
        {% when 'richtext' %}
            {{ block.settings.richtext }}
        {% when 'image' %}
            <img  src="{{ block.settings.image | image_url: 'medium' }}" alt="">
        {% when 'video' %}
            <iframe  src="{{ block.settings.video_url }}" frameborder="0" allowfullscreen></iframe>
        {% when 'url' %}
            <a  href="{{ block.settings.link }}">{{ block.settings.label }}</a>
        {% when 'color' %}
            <div  style="background-color: {{ block.settings.color }}; width: 50px; height: 50px;"></div>
        {% when 'select' %}
            <p >Selected: {{ block.settings.select }}</p>
        {% when 'product' %}
            {% assign product = all_products[block.settings.product] %}
            <p >{{ product.title }}</p>
        {% when 'collection' %}
            {% assign collection = collections[block.settings.collection] %}
            <p >{{ collection.title }}</p>
        {% when 'blog' %}
            <p >Blog: {{ block.settings.blog }}</p>
        {% when 'article' %}
            <p >Article: {{ block.settings.article }}</p>
        {% when 'page' %}
            <p>Page: {{ block.settings.page }}</p>
        {% when 'html' %}
            {{ block.settings.html }}
        {% when 'liquid' %}
            {{ block.settings.liquid_code }}
        {% when 'custom' %}
          <div class="page-subheading {{ block.settings.section_class }}" id="{{ block.settings.section_id }}">
          <div class="wp-block-column">
              <p class="page_title_text">{{ block.settings.subheading }}</p>
              </div>
              {% if block.settings.has_button %}
                  <div class="wp-block-column btn_col">
                      <a class="button" href="{{ block.settings.button_link }}" rel="">{{ block.settings.button_text }}</a>
                  </div>
              {% endif %}
          </div>
        {% endcase %}
    </div>
    {% endfor %}
</div>


{% schema %}
{
  "name": "CRU Stack",
  "settings": [
    {
        "type": "text",
        "id" : "id",
        "label" : "ID"
    },
    {
        "type": "text",
        "id" : "class",
        "label": "Class"
    }
  ],
  "blocks": [
    {
      "type": "text",
      "name": "Text",
      "settings": [
        {
          "type": "text",
          "id": "text",
          "label": "Text"
        },
        {
            "type": "text",
            "id": "id",
            "label": "ID"
        },
        {
            "type": "text",
            "id": "class",
            "label": "Class"
        }
      ]
    },
    {
      "type": "textarea",
      "name": "Textarea",
      "settings": [
        {
          "type": "textarea",
          "id": "textarea",
          "label": "Textarea"
        },
        {
            "type": "text",
            "id": "id",
            "label": "ID"
        },
        {
            "type": "text",
            "id": "class",
            "label": "Class"
        }
      ]
    },
    {
      "type": "richtext",
      "name": "Rich Text",
      "settings": [
        {
          "type": "richtext",
          "id": "richtext",
          "label": "Rich Text"
        },
        {
            "type": "text",
            "id": "id",
            "label": "ID"
        },
        {
            "type": "text",
            "id": "class",
            "label": "Class"
        }
      ]
    },
    {
      "type": "image",
      "name": "Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
            "type": "text",
            "id": "id",
            "label": "ID"
        },
        {
            "type": "text",
            "id": "class",
            "label": "Class"
        }
      ]
    },
    {
      "type": "video",
      "name": "Video",
      "settings": [
        {
          "type": "video_url",
          "id": "video_url",
          "label": "Video URL",
          "accept": ["youtube", "vimeo"]
        },
        {
            "type": "text",
            "id": "id",
            "label": "ID"
        },
        {
            "type": "text",
            "id": "class",
            "label": "Class"
        }
      ]
    },
    {
      "type": "url",
      "name": "URL",
      "settings": [
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        },
        {
            "type": "text",
            "id": "label",
            "label": "Link Text"
        },
        {
            "type": "text",
            "id": "id",
            "label": "ID"
        },
        {
            "type": "text",
            "id": "class",
            "label": "Class"
        }
      ]
    },
    {
      "type": "color",
      "name": "Color",
      "settings": [
        {
          "type": "color",
          "id": "color",
          "label": "Color"
        },
        {
            "type": "text",
            "id": "id",
            "label": "ID"
        },
        {
            "type": "text",
            "id": "class",
            "label": "Class"
        }
      ]
    },
    {
      "type": "product",
      "name": "Product",
      "settings": [
        {
          "type": "product",
          "id": "product",
          "label": "Product"
        },
        {
            "type": "text",
            "id": "id",
            "label": "ID"
        },
        {
            "type": "text",
            "id": "class",
            "label": "Class"
        }
      ]
    },
    {
      "type": "collection",
      "name": "Collection",
      "settings": [
        {
          "type": "collection",
          "id": "collection",
          "label": "Collection"
        },
        {
            "type": "text",
            "id": "id",
            "label": "ID"
        },
        {
            "type": "text",
            "id": "class",
            "label": "Class"
        }
      ]
    },
    {
      "type": "blog",
      "name": "Blog",
      "settings": [
        {
          "type": "blog",
          "id": "blog",
          "label": "Blog"
        },
        {
            "type": "text",
            "id": "id",
            "label": "ID"
        },
        {
            "type": "text",
            "id": "class",
            "label": "Class"
        }
      ]
    },
    {
      "type": "article",
      "name": "Article",
      "settings": [
        {
          "type": "article",
          "id": "article",
          "label": "Article"
        },
        {
            "type": "text",
            "id": "id",
            "label": "ID"
        },
        {
            "type": "text",
            "id": "class",
            "label": "Class"
        }
      ]
    },
    {
      "type": "page",
      "name": "Page",
      "settings": [
        {
          "type": "page",
          "id": "page",
          "label": "Page"
        },
        {
            "type": "text",
            "id": "id",
            "label": "ID"
        },
        {
            "type": "text",
            "id": "class",
            "label": "Class"
        }
      ]
    },
    {
      "type": "html",
      "name": "HTML",
      "settings": [
        {
          "type": "html",
          "id": "html",
          "label": "Custom HTML"
        },
        {
            "type": "text",
            "id": "id",
            "label": "ID"
        },
        {
            "type": "text",
            "id": "class",
            "label": "Class"
        }
      ]
    },
    {
      "type": "liquid",
      "name": "Liquid",
      "settings": [
        {
          "type": "liquid",
          "id": "liquid_code",
          "label": "Custom Liquid Code"
        },
        {
            "type": "text",
            "id": "id",
            "label": "ID"
        },
        {
            "type": "text",
            "id": "class",
            "label": "Class"
        }
      ]
    },
    {
      "type": "custom",
      "name": "CRU Page Subheading",
      "settings": [
        {
          "type": "textarea",
          "id": "subheading",
          "label": "Subheading",
          "default": "Your Subheading"
        },
        {
          "type": "text",
          "id": "section_id",
          "label": "Section ID"
        },
        {
          "type": "text",
          "id": "section_class",
          "label": "Section Class"
        },
        {
          "type": "checkbox",
          "id": "has_button",
          "label": "Has Button",
          "default": true
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Button Text"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button Link",
          "default": "/"
        }
      ]
    }
  ],
  "max_blocks": 20,
  "presets": [
    {
      "name": "CRU Stack",
      "category": "Custom"
    }
  ]
}
{% endschema %}
